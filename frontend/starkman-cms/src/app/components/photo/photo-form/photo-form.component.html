<!--<form #photoForm="ngForm" id="photoForm">-->

<mat-card>

  <mat-card-title>{{this.entity?.Title}}</mat-card-title>

  <mat-card-subtitle>{{this.entity?.Url}}</mat-card-subtitle>

    <mat-card-content>

      <img mat-card-image width="100px"
        src="{{this.entity?.Photo?.Base64String}}"
        alt="{{this.entity?.Photo?.Title}}">
      <!--
      <img mat-card-image width="100px"
        src="{{this.photoService.apiDomain + this.photoService.apiDomainPhotoPath + this.entity.Photo.Url + '.' + this.entity.Photo.Type) : '' }}"
        alt="{{this.entity?.Title}}">
      -->
        <mat-grid-list cols="4" rowHeight="3:1">

          <mat-grid-tile><div *ngIf="(this.entity?.Photo?.Size > 0)">{{(this.entity?.Photo?.Size / 1024) | number}} Kb </div></mat-grid-tile>
          <mat-grid-tile>{{this.entity?.Photo?.SourceName}}</mat-grid-tile>

          <mat-grid-tile>
            <mat-form-field *ngIf="!this.isSinglePhoto" >
              <input matInput placeholder="Порядковый номер" [type]="'number'" autocomplete="off"
                  [(ngModel)]="this.entity.Photo.SortOrder" name="SortOrder" #SortOrder="ngModel"/>
            </mat-form-field>
          </mat-grid-tile>

          <mat-grid-tile>
            <mat-checkbox *ngIf="!this.isSinglePhoto"
                  [(ngModel)]="this.entity.Photo.IsVisible" #IsVisible="ngModel" name="IsVisible" color="primary">Показывать на сайте
            </mat-checkbox>
          </mat-grid-tile>

        </mat-grid-list>

    </mat-card-content>

    <mat-card-actions>
      <div class="button-row">

        <span matTooltip="Сохранить фото">
          <button (click)="savePhoto()" mat-mini-fab color="primary" [disabled]="!openFile.files[0]">
            <mat-icon aria-label="Сохранить">done</mat-icon>
          </button>
        </span>

        <span matTooltip="Открыть фото">
          <button (click)="openFile.click()" mat-mini-fab color="accent">  <!--uploadFile()-->
            <mat-icon aria-label="Сохранить">photo_camera</mat-icon>
          </button>
        </span>
        <span matTooltip="Скачать фото с сайта">
          <button (click)="downloadFile(this.entity.Url)" mat-mini-fab color="accent">
            <mat-icon class="flipV" aria-label="Отменить">file_download</mat-icon>
          </button>
        </span>
        <span matTooltip="Удалить фото с сайта">
          <button (click)="delete(this.entity.Url)" mat-mini-fab color="warn">
            <mat-icon aria-label="Удалить">delete</mat-icon>
          </button>
        </span>
      </div>
    </mat-card-actions>
  </mat-card>

<input type="file" required
  accept="image/jpeg,image/png"
  style="opacity: 0"
  #openFile
  (change)="previewPhoto(openFile.files)" />
<div id="preview"></div>

<!--</form>-->

